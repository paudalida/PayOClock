<div class="content">
    <div class="header">
        <div class="left-side">
            <h1>Welcome, <span>{{ employee?.full_name }}</span> !</h1>
        </div>
    
        <div class="right-side">
            <!-- Notification Icon -->
            <div class="notifications" (click)="toggleNotifications()">
                <i class='bx bx-bell'></i>
                <span *ngIf="notificationCount > 0" class="notification-count">{{ notificationCount }}</span>
            </div>

            <div class="notification-list" *ngIf="showNotifications">
                <ng-container *ngIf="notifications.length > 0">
                    <div *ngFor="let notification of notifications" class="notification-item" (click)="redirectToRequests()">
                        <span class="notification-message">
                             {{ notification.message }}
                        </span>
                        <span class="notification-time">{{ notification.time }}</span>
                    </div>
                </ng-container>

                <ng-container *ngIf="notifications.length == 0">
                    <p class="center">No new notifications</p>
                </ng-container>
            </div>

            <div class="profile-container" (click)="toggleProfileDropdown()">
                <!-- <img [src]="employee.image || 'assets/images/no image.png'" alt="Employee Photo" class="profile-icon"> -->
                <img [src]="employee.image" alt="Employee Photo" class="profile-icon">
                <i class='bx bx-chevron-down dropdown-icon'></i>
        
                <!-- Dropdown Menu -->
                <div class="profile-dropdown" *ngIf="showProfileDropdown">
                    <ul>
                        <li (click)="navigateToProfile()">Profile</li>
                        <li (click)="logout()">Logout</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
       
    <div class="body-content">
        <div class="admin-container"> 
            <div class="loading" *ngIf="isLoading">
                <app-spinner></app-spinner>
            </div>

            <ng-container *ngIf="!isLoading">
                <router-outlet></router-outlet> 
            </ng-container>
        </div>
    </div>

    <mat-sidenav-container class="sidebar-content">
        <mat-sidenav #sidenav mode="side" opened>
    
            <div class="logo-title">
                <div class="logo">
                    <img src="assets/images/PayO'Clock logo.png">
                </div>
            </div>
    
            <mat-nav-list>
                <a mat-list-item routerLink="dashboard" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-dashboard'></i> </span>
                    <span class="tab-name">Dashboard</span>
                </a>
                <a mat-list-item routerLink="employees" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-user-detail'></i> </span>
                    <span class="tab-name">Employees</span>
                </a>
                <a mat-list-item routerLink="attendance" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:true}">
                    <span class="tab-icon"> <i class='bx bx-clipboard'></i> </span>
                    <span class="tab-name">Attendance</span>
                </a>
                <a mat-list-item routerLink="payroll" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-coin-stack'></i> </span>
                    <span class="tab-name">Payroll</span>
                </a>
                <a mat-list-item routerLink="request" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bx-list-plus'></i> </span>
                    <span class="tab-name">Requests</span>
                </a>
                <a mat-list-item routerLink="report" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-report'></i></span>
                    <span class="tab-name">Report</span>
                </a>
                <a mat-list-item routerLink="announcements" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:true}">
                    <span class="tab-icon"> <i class='bx bxs-megaphone'></i> </span>
                    <span class="tab-name">Announcements</span>
                </a>
                 <a mat-list-item routerLink="activity" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-time-five'></i></span>
                    <span class="tab-name">Activity Log</span>
                </a>
                <a mat-list-item routerLink="archives" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-archive-in' ></i> </span>
                    <span class="tab-name">Archives</span>
                </a>
                 <a mat-list-item routerLink="settings" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:false}">
                    <span class="tab-icon"> <i class='bx bxs-cog'></i> </span>
                    <span class="tab-name">Settings</span>
                </a>

                <!-- <a mat-list-item (click)="logout()" class="logout">
                    <span class="tab-icon"> <i class='bx bx-log-out'></i> </span> -->
                    <!-- <span class="tab-name">Logout</span> -->
                <!-- </a> -->
                
            </mat-nav-list>
    
            <!-- <div class="logoutbtn">
                <div class="logout" (click)="logout()">
                    <i class='bx bx-log-out bx-rotate-180'></i> Logout
                </div>
            </div> -->
        </mat-sidenav>
    </mat-sidenav-container>
</div>